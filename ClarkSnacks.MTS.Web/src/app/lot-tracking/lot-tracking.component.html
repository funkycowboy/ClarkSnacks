<p-toast position="top-right"></p-toast>
<h2>Lot Tracking Form</h2>

<form [formGroup]="lotTrackingForm" (ngSubmit)="onSubmit(lotTrackingForm.value)">

  <div class="ui-g" style="background-color: #ececec; border-radius:5px; padding: 15px;">
    <!--<div class="ui-g-12">
      <label for="Supplier">Shipment Supplier: </label>
    </div>
    <div class="ui-g-12">
      <p-dropdown filter="true" name="Supplier" (onChange)="vendorChange($event)" [options]="supplierOptions"></p-dropdown>
    </div>-->
    <div class="ui-g-12">
      <label for="Supplier">Production Line: </label> <span style="color: blue">Line 1</span>
    </div>
    <div class="ui-g-12">
      <label for="Supplier">Material Category: </label>
      <span class="fa fa-search" style="margin-left:15px;font-size: 24px; color: blue" (click)="showLabelInfo()" title="Where can I find the Lot Number?"></span>
    </div>
    <div class="ui-g-12 ui-fluid">
      <p-dropdown formControlName="materialCategory" filter="true" name="MaterialCategory" (onChange)="materialCategoryChange($event)" [options]="materialCategoryOptions"></p-dropdown>
    </div>
    <div class="ui-g-12 ui-inputgroup ui-g ui-fluid" style="padding:0" *ngIf="selectedMaterialCategory">
      <div class="ui-g-12">
        <label for="Items">Item: </label>
      </div>
      <div class="ui-g-12 ui-fluid">
        <p-dropdown formControlName="item" filter="true" (onChange)="itemChange($event)" [options]="itemOptions"></p-dropdown>
      </div>
    </div>
    <div class="ui-g-12 ui-inputgroup ui-g" style="padding:0" *ngIf="selectedItem">
      <div class="ui-g-12">
        <label for="Items">Select or enter a new Lot Number:</label>
      </div>
      <div class="ui-g-12 ui-fluid">
        <p-dropdown formControlName="lotNumber" filter="true" [options]="lotOptions" editable="true" (onChange)="lotNumberChange($event)"></p-dropdown>
      </div>
      <div class="ui-g-12" *ngIf="lotNumberManuallyEntered" style="padding:0">
        <div class="ui-g-12">
          <label for="Items">Confirm Lot Number:</label>
        </div>
        <div class="ui-g-12 ui-fluid">
          <input formControlName="lotNumberConfirm" pInputText type="text" (blur)="validateLotNumber($event)" />
        </div>
      </div>
    </div>
    <div class="ui-g-12" style="text-align:right">
      <button class="ui-button-rounded ui-button-success" type="submit" pButton icon="fa fa-arrow-circle-right" label="Log Lot" [disabled]="!lotTrackingForm.valid"></button>
    </div>
  </div>

</form>

<p-dialog header="Supplier Label Information" [(visible)]="displayDialog" [focusOnShow]="true" [responsive]="true" showEffect="fade" [modal]="true">
<div class="ui-g ui-fluid">
  <div class="ui-g-12">
    <img src="assets/supplier-labels/{{selectedSupplierLabelImageName}}.jpg" />
  </div>
</div>

<p-footer>
  <button type="button" pButton icon="fa fa-close" label="Close" (click)="closeLabelInfoDialog()"></button>&nbsp;
</p-footer>
</p-dialog>
